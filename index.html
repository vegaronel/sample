<!DOCTYPE html>
<html lang="en">
     <head>
          <meta charset="UTF-8" />
          <meta name="viewport" content="width=device-width, initial-scale=1.0" />
          <title>Budget Tracker</title>
          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
          <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
          <style>
               .warning {
                    color: red;
               }
               .success {
                    color: green;
               }
          </style>
     </head>
     <body class="bg-light">
          <div class="container mt-5">
               <h1 class="text-center">Budget Tracker and Advisor</h1>

               <div class="card p-4 mb-4">
                    <h4>Set Monthly Budget</h4>
                    <div class="input-group mb-3">
                         <input type="number" id="budget" class="form-control" placeholder="Enter budget amount" />
                         <button class="btn btn-primary" id="setBudgetBtn">Set Budget</button>
                    </div>
                    <div id="budgetWarning" class="text-danger"></div>
               </div>

               <div class="card p-4 mb-4">
                    <h4>Add Expense</h4>
                    <div class="mb-3">
                         <input type="text" id="category" class="form-control" placeholder="Category" />
                    </div>
                    <div class="mb-3">
                         <input type="number" id="amount" class="form-control" placeholder="Amount" />
                    </div>
                    <div class="mb-3">
                         <input type="text" id="description" class="form-control" placeholder="Description" />
                    </div>
                    <button class="btn btn-success" id="addExpenseBtn">Add Expense</button>
               </div>

               <div id="warnings" class="text-center warning mb-3"></div>

               <h4>Expenses</h4>
               <ul class="list-group mb-4" id="expenseList"></ul>

               <div id="summary" class="text-center"></div>
          </div>

          <script src="script.js"></script>
          <script>
               let budget = 0;
               let totalExpense = 0;

               $(document).ready(function () {
                    $("#setBudgetBtn").click(function () {
                         budget = parseFloat($("#budget").val());
                         if (isNaN(budget) || budget <= 0) {
                              $("#budgetWarning").text("Please enter a valid budget amount.");
                         } else {
                              $("#budgetWarning").text(`Budget set to $${budget}.`).addClass("text-success");
                         }
                    });

                    $("#addExpenseBtn").click(function () {
                         const category = $("#category").val();
                         const amount = parseFloat($("#amount").val());
                         const description = $("#description").val();

                         if (!category || isNaN(amount) || amount <= 0) {
                              alert("Please fill in all fields with valid data.");
                              return;
                         }

                         totalExpense += amount;
                         $("#expenseList").append(
                              `<li class="list-group-item">
                    <strong>${category}</strong>: $${amount} - ${description}
                </li>`
                         );

                         updateWarnings();
                         updateSummary();
                         clearInputs();
                    });

                    function updateWarnings() {
                         const warnings = $("#warnings");
                         warnings.text("");

                         if (totalExpense >= 0.8 * budget && totalExpense < budget) {
                              warnings.text("Warning: You have spent 80% of your budget!");
                         } else if (totalExpense >= budget) {
                              warnings.text("Critical: You have exceeded your budget!");
                         } else if (totalExpense < budget) {
                              warnings.text("You are within your budget. Consider saving 10%.").addClass("text-success");
                         }
                    }

                    function updateSummary() {
                         $("#summary").html(
                              `<h5>Total Expenses: $${totalExpense.toFixed(2)}</h5>
                 <h5>Remaining Budget: $${(budget - totalExpense).toFixed(2)}</h5>`
                         );
                    }

                    function clearInputs() {
                         $("#category").val("");
                         $("#amount").val("");
                         $("#description").val("");
                    }
               });
          </script>
     </body>
</html>
